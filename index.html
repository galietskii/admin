<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <script src="https://kit.fontawesome.com/b1a6654a6a.js" crossorigin="anonymous"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard</title>
    <link rel="stylesheet" href="css/style.css">
    <style>
    video{
          transform: scaleX(-1);
       -o-transform: scaleX(-1);
      -ms-transform: scaleX(-1);
     -moz-transform: scaleX(-1);
  -webkit-transform: scaleX(-1);
}
    </style>
    <script>
  window.onload = function () {
    var canvas = document.getElementById('canvas');
    var video = document.getElementById('video');
    var button = document.getElementById('button');
    var allow = document.getElementById('allow');
    var context = canvas.getContext('2d');
    var videoStreamUrl = false;

    // функция которая будет выполнена при нажатии на кнопку захвата кадра
    var captureMe = function () {
      if (!videoStreamUrl) alert('То-ли вы не нажали "разрешить" в верху окна, то-ли что-то не так с вашим видео стримом')
      // переворачиваем canvas зеркально по горизонтали (см. описание внизу статьи)
      // отрисовываем на канвасе текущий кадр видео
      context.drawImage(video, 0, 0, video.width, video.height);
      // получаем data: url изображения c canvas
      var base64dataUrl = canvas.toDataURL('image/png');
      context.setTransform(1, 0, 0, 1, 0, 0); // убираем все кастомные трансформации canvas
      // на этом этапе можно спокойно отправить  base64dataUrl на сервер и сохранить его там как файл (ну или типа того) 
      // но мы добавим эти тестовые снимки в наш пример:
      var img = new Image();
      img.src = base64dataUrl;
      window.document.body.appendChild(img);
    }

    button.addEventListener('click', captureMe);

    // navigator.getUserMedia  и   window.URL.createObjectURL (смутные времена браузерных противоречий 2012)
    navigator.getUserMedia = navigator.getUserMedia || navigator.webkitGetUserMedia || navigator.mozGetUserMedia || navigator.msGetUserMedia;
    window.URL.createObjectURL = window.URL.createObjectURL || window.URL.webkitCreateObjectURL || window.URL.mozCreateObjectURL || window.URL.msCreateObjectURL;

    // запрашиваем разрешение на доступ к поточному видео камеры
    navigator.getUserMedia({video: true}, function (stream) {
      // разрешение от пользователя получено
      // скрываем подсказку
      allow.style.display = "none";
      // получаем url поточного видео
      videoStreamUrl = window.URL.createObjectURL(stream);
      // устанавливаем как источник для video 
      video.src = videoStreamUrl;
    }, function () {
      console.log('что-то не так с видеостримом или пользователь запретил его использовать :P');
    });
  };
</script>
</head>
<body>
    <header class="header">
        <div class="widget">
            <h3 class="widget-title">Company</h3>
            <ul class="widget-list">
              <li><a href="index.html"><i class="fas fa-columns icon"></i>Dashboard</a></li>
              <li><a href="form.html"><i class="fas fa-user icon"></i>User Profile</a></li>
              <li><a href=""><i class="fas fa-map-marker-alt icon"></i>Maps</a></li>
              <li><a href=""><i class="fas fa-check-double icon"></i>Notifications</a></li>
              <li><a href=""><i class="fas fa-globe icon"></i>Support</a></li>
            </ul>
          </div>
    </header>
    <div class="main">
      <div class="block-main">
        <h3 class="main-title"><i class="fas fa-bars icon bars"></i>Dashboard</h3>
       </div>
      <div class="all-block-flex">
        <div class="about-dashboard">    <!---------- first card --------- -->
          <div class="block-investor">     
            <h4 class="title-name">Used Space</h4>
            <p class="text-name">49/50 GB</p>
          </div>
          <div class="block-about-used">
            <img class="image" src="images/database.png" alt="database">
            <a href="#" class="text-about-used"><i class="fas fa-exclamation-triangle icon"></i>Get more space...</a>
          </div>
        </div>
        <div class="about-dashboard">    <!---------- second card --------- -->
          <div class="block-investor">
            <h4 class="title-name">Used Space</h4>
            <p class="text-name">49/50 GB</p>
          </div>
          <div class="block-about-used">
            <img class="image" src="images/house.png" alt="database">
            <a href="#" class="text-about-used"><i class="fas fa-exclamation-triangle icon"></i>Get more space...</a>
          </div>
        </div>
        <div class="about-dashboard">     <!---------- third card --------- -->
          <div class="block-investor">
            <h4 class="title-name">Used Space</h4>
            <p class="text-name">49/50 GB</p>
          </div>
          <div class="block-about-used">
            <img class="image" src="images/pay.jpg" alt="database">
            <a href="#" class="text-about-used"><i class="fas fa-exclamation-triangle icon"></i>Get more space...</a>
          </div>
        </div>
        <div class="about-dashboard">     <!---------- fourth card --------- -->
          <div class="block-investor">
            <h4 class="title-name">Used Space</h4>
            <p class="text-name">49/50 GB</p>
          </div>
          <div class="block-about-used">
            <img class="image" src="images/telegram.jpg" alt="database">
            <a href="#" class="text-about-used"><i class="fas fa-exclamation-triangle icon"></i>Get more space...</a>
          </div>
        </div>
      </div>
      <div class="investors-main">     <!--------------------------Big card main -------------------->
        <div class="investors-blocks">
            <img class="graph-image" src="images/icon-graph-up.png" alt="graph">
            <div class="inside-block">
              <h4 class="title-investor-big">Daily Sales</h4>
              <p class="text-sale">55% incriase in today sales</p>
              <p class="text-update"><i class="far fa-clock icon"></i>updated 4 minutes ago</p>
            </div>
        </div>
          <div class="investors-blocks">
            <img class="graph-image" src="images/icon-graph-up.png" alt="graph">
            <div class="inside-block">
              <h4 class="title-investor-big">Daily Sales</h4>
              <p class="text-sale">55% incriase in today sales</p>
              <p class="text-update"><i class="far fa-clock icon"></i>updated 4 minutes ago</p>
            </div>
          </div>
          <div class="investors-blocks">
            <img class="graph-image" src="images/icon-graph-up.png" alt="graph">
            <div class="inside-block">
              <h4 class="title-investor-big">Daily Sales</h4>
              <p class="text-sale">55% incriase in today sales</p>
              <p class="text-update"><i class="far fa-clock icon"></i>updated 4 minutes ago</p>
            </div>
        </div>
      </div>
      <div class="tasks-block">
       <div class="first-block-tasks">   <!-- -------------- FIIRST BLOCK TASKS ---------------------- -->
          <div class="header-tasks-block">
            <div class="all-tasks">
              <p class="text-tasks">Tasks:</p>
              <ul class="menu">
                <a href="#"><i class="fas fa-bug icon"></i>Bugs</a>
                <a href="#"><i class="fas fa-globe icon"></i>Website</a>
                <a href="#"><i class="fas fa-cloud icon"></i>Server</a>
              </ul>
           </div>
          </div>
          <div class="main-block-tasks">
            <form action="">
              <p><input type="checkbox" name="answer" value="a1">Sign contract for "What are conference organizers afraid <i class="fas fa-pen-square square"></i><i class="fas fa-times-circle circle"></i> <br> of?"<Br>
              <input class="checkbox" type="checkbox" name="answer" value="a2">Sign contract for "What are conference organizers afraid <i class="fas fa-pen-square square"></i><i class="fas fa-times-circle circle"></i></i> <br> of?"<Br>
              <input class="checkbox" type="checkbox" name="answer" value="a2">Sign contract for "What are conference organizers afraid <i class="fas fa-pen-square square"></i><i class="fas fa-times-circle circle"></i></i> <br> of?"<Br>
              <input class="checkbox" type="checkbox" name="answer" value="a3">Sign contract for "What are conference organizers afraid <i class="fas fa-pen-square square"></i><i class="fas fa-times-circle circle"></i> <br> of?"</p>
             </form>
          </div>
        </div>
        <div class="first-block-tasks">   <!-- -------------- SECOND BLOCK TASKS ---------------------- -->
          <div class="header-tasks-block second-block">
            <div class="all-stats">
              <h5 class="title-employees">Employyes stats</h5>
              <p class="text-employees">New employees on 19th on September, 2019</p>
           </div>
          </div>
          <div class="main-block-stats">
            <div class="name-stats">
              <h5 class="name-id">ID</h5>
              <h5 class="name-name">Name</h5>
              <h5 class="name-salary">Salary</h5>
              <h5 class="name-country">Country</h5>
            </div>
            <div class="all-name">
              <h6>1</h6>
              <h6>Dakota Rice</h6>
              <h6>$ 36,738</h6>
              <h6>Niger</h6>
            </div>
            <div class="all-name">
              <h6>1</h6>
              <h6>Dakota Rice</h6>
              <h6>$ 36,738</h6>
              <h6>Niger</h6>
            </div>
            <div class="all-name">
              <h6>1</h6>
              <h6>Dakota Rice</h6>
              <h6>$ 36,738</h6>
              <h6>Niger</h6>
            </div>
            <div class="all-name">
              <h6>1</h6>
              <h6>Dakota Rice</h6>
              <h6>$ 36,738</h6>
              <h6>Niger</h6>
            </div>
           <div class="width"></div>
          </div>
        </div>
    </div>
    <footer class="footer">
        <ul>
          <a href="#">about</a> 
          <a href="#">blog</a> 
          <a href="#">licenses</a> 
        </ul>
        <div class="years-footer">
          <p>2019 - made with love</p>
        </div>
    </footer>
  </div>
    <div class="item">
  <span> video </span>
  <video id="video" width="320" height="240" autoplay="autoplay" ></video>
</div>
<div class="item">
  <span> canvas </span>
  <canvas id="canvas" width="320" height="240" ></canvas>
</div>

<input id="button" type="button" value="Жми!" />
    
    <script src="app.js"> </script>
</body>
</html>
